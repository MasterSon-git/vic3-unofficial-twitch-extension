<Window x:Class="Vic3Unofficial.Twitch.Desktop.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Vic3 Unofficial Twitch Desktop Uploader" Height="420" Width="700">
  <DockPanel Margin="16">
    <StackPanel DockPanel.Dock="Top" Orientation="Vertical" Margin="0,0,0,12">
      <TextBlock Text="{Binding Status}" FontSize="16" FontWeight="SemiBold" />
      <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
        <Button Content="Pairâ€¦" Command="{Binding PairCommand}" Margin="0,0,8,0" Width="100"/>
        <Button Content="Upload Bootstrap" Command="{Binding UploadBootstrapCommand}" Width="150" Margin="0,0,8,0"/>
        <Button Content="{Binding WatchingButtonText}" Command="{Binding ToggleWatchingCommand}" Width="150"/>
      </StackPanel>
    </StackPanel>

    <Grid DockPanel.Dock="Top" Margin="0,0,0,12">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto"/>
        <ColumnDefinition Width="*"/>
      </Grid.ColumnDefinitions>
      <TextBlock Text="Autosave Folder:" VerticalAlignment="Center" Margin="0,0,8,0"/>
      <TextBox Grid.Column="1" Text="{Binding AutosaveDir, UpdateSourceTrigger=PropertyChanged}" />
    </Grid>

    <GroupBox Header="Activity" DockPanel.Dock="Bottom">
      <ScrollViewer VerticalScrollBarVisibility="Auto" Height="260">
        <ItemsControl ItemsSource="{Binding StatusEntries}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <StackPanel Orientation="Horizontal" Margin="0,2">
                <TextBlock Text="{Binding Timestamp, StringFormat={}{0:HH:mm:ss}}" Width="70" Foreground="Gray"/>
                <TextBlock Text="{Binding Level}" Width="80" Foreground="Gray"/>
                <TextBlock Text="{Binding Message}" TextWrapping="Wrap"/>
              </StackPanel>
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </ScrollViewer>
    </GroupBox>
  </DockPanel>
</Window>
